<?php
// ---------------------------------------------
// INICIALIZAÇÃO
// ---------------------------------------------

// Iniciamos a sessão ANTES de qualquer saída HTML.
// Isso é obrigatório para que as variáveis $_SESSION funcionem corretamente.
session_start();

// Criamos um cookie chamado "dia-da-semana" com valor "SEGUNDA"
// Ele expira em 1 hora (3600 segundos). Cookies só aparecem em $_COOKIE na próxima requisição.
setcookie("dia-da-semana", "SEGUNDA", time() + 3600);

// Armazenamos uma informação de teste na variável de sessão.
// Assim, conseguimos ver o conteúdo de $_SESSION.
$_SESSION["TESTE"] = "FUNCIONOU!";
?>
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8"> <!-- Suporte a acentuação -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsivo em celulares -->
    <title>Superglobais no PHP</title>
    <link rel="stylesheet" href="style.css"> <!-- Arquivo de estilo externo -->
</head>
<body>
    <header>
        <h1>Superglobais no PHP</h1>
    </header>

    <main>
        <!-- Aviso sobre segurança e exposição de dados -->
        <div style="background-color: #ffe6e6; padding: 10px; border-left: 5px solid red; margin-bottom: 20px;">
            ⚠️ <strong>Aviso:</strong> Esta página exibe informações sensíveis e é destinada apenas para fins de estudo.
            Nunca utilize <code>var_dump()</code> com superglobais em aplicações públicas ou de produção.
        </div>

        <!-- Aviso explicando comportamento do setcookie() -->
        <div style="background-color: #e6f7ff; padding: 10px; border-left: 5px solid #3399ff; margin-bottom: 20px;">
            ℹ️ <strong>Nota:</strong> O cookie criado com <code>setcookie()</code> só estará disponível em <code>$_COOKIE</code> após você atualizar a página.
        </div>

        <?php
        // ---------------------------------------------
        // EXIBIÇÃO DAS SUPERGLOBAIS
        // ---------------------------------------------

        // $_GET: Dados enviados pela URL (método GET)
        echo "<h2>Superglobal \$_GET</h2>";
        echo "<pre>"; var_dump($_GET); echo "</pre>";

        // $_POST: Dados enviados por formulário (método POST)
        echo "<h2>Superglobal \$_POST</h2>";
        echo "<pre>"; var_dump($_POST); echo "</pre>";

        // $_REQUEST: Combina GET + POST + COOKIE (NÃO é recomendado usar em produção)
        echo "<h2>Superglobal \$_REQUEST</h2>";
        echo "<pre>"; var_dump($_REQUEST); echo "</pre>";

        // $_COOKIE: Mostra cookies recebidos do navegador
        echo "<h2>Superglobal \$_COOKIE</h2>";
        echo "<pre>"; var_dump($_COOKIE); echo "</pre>";

        // $_SESSION: Armazena dados do usuário entre páginas (persistente na sessão)
        echo "<h2>Superglobal \$_SESSION</h2>";
        echo "<pre>"; var_dump($_SESSION); echo "</pre>";

        // $_ENV: Contém variáveis de ambiente (geralmente configuradas no servidor)
        echo "<h2>Superglobal \$_ENV</h2>";
        echo "<pre>"; var_dump($_ENV); echo "</pre>";

        // getenv(): Alternativa para acessar variáveis de ambiente
        echo "<h2>Variáveis de Ambiente (getenv)</h2>";
        echo "<pre>";
        foreach (getenv() as $chave => $valor) {
            echo "$chave => $valor\n";
        }
        echo "</pre>";

        // $_SERVER: Informações do servidor, requisição, headers, IP, porta etc.
        echo "<h2>Superglobal \$_SERVER</h2>";
        echo "<pre>"; var_dump($_SERVER); echo "</pre>";

        // $GLOBALS: Um array com todas as variáveis globais do escopo atual
        echo "<h2>Superglobal \$GLOBALS</h2>";
        echo "<pre>"; var_dump($GLOBALS); echo "</pre>";
        ?>
    </main>

    <footer>
        <p>&copy; 29/08/2025 - Exercício de Funções PHP</p>
    </footer>
</body>
</html>
